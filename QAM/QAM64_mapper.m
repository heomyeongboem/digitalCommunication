% QAM64_mapper.m 
function [qam64] = QAM64_mapper(bitseq)
len = length(bitseq)/6;
j =sqrt(-1);
QAM_table2 = [-7+7*j,-7+5*j, -7+1*j, -7+3*j, -7-7*j,-7-5*j, -7-1*j, -7-3*j,...
              -5+7*j,-5+5*j, -5+1*j, -5+3*j, -5-7*j,-5-5*j, -5-1*j, -5-3*j,...
              -1+7*j,-1+5*j, -1+1*j, -1+3*j, -1-7*j,-1-5*j, -1-1*j, -1-3*j,...
              -3+7*j,-3+5*j, -3+1*j, -3+3*j, -3-7*j,-3-5*j, -3-1*j, -3-3*j,...
               7+7*j, 7+5*j,  7+1*j,  7+3*j,  7-7*j, 7-5*j,  7-1*j,  7-3*j,...
               5+7*j, 5+5*j,  5+1*j,  5+3*j,  5-7*j, 5-5*j,  5-1*j,  5-3*j,...
               1+7*j, 1+5*j,  1+1*j,  1+3*j,  1-7*j, 1-5*j,  1-1*j,  1-3*j,...
               3+7*j, 3+5*j,  3+1*j,  3+3*j,  3-7*j, 3-5*j,  3-1*j,  3-3*j,...
                ]/sqrt(42.);
% Ps = mean(abs(QAM_table2.^2));    %% complex num의  power를 구할시에는 abs를 해야 한다.
            
for i=0: len-1,
  temp = bitseq(6*i+1)*32 +bitseq(6*i+2)*16 +bitseq(6*i+3)*8 +bitseq(6*i+4)*4+bitseq(6*i+5)*2+bitseq(6*i+6);
  qam64(i+1) =QAM_table2(temp+1);
end